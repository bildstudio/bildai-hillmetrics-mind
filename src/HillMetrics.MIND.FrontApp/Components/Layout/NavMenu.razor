@using MudBlazor
@inject NavigationManager NavigationManager

<MudNavMenu>
    <MudText Typo="Typo.h6" Class="px-4 py-2">
        <MudStack Row="true" AlignItems="AlignItems.Center">
            <MudIcon Icon="@Icons.Material.Filled.Analytics" />
            <MudText>HillMetrics MIND</MudText>
        </MudStack>
    </MudText>

    <MudDivider Class="my-2" />

    <MudNav>
        <MudNavLink Href="" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Dashboard">
            Dashboard
        </MudNavLink>

        <MudNavGroup Title="Flux Management" Icon="@Icons.Material.Filled.DataObject" Expanded="true">
            <MudNavLink Href="/flux/search" Icon="@Icons.Material.Filled.Search">
                Search Flux
            </MudNavLink>
            <MudNavLink Href="/flux/create" Icon="@Icons.Material.Filled.Add">
                Create Flux
            </MudNavLink>
            <MudNavGroup Title="History" Icon="@Icons.Material.Filled.History" Expanded="false">
                <MudNavLink Href="/flux/fetching-history" Icon="@Icons.Material.Filled.CloudDownload">
                    Fetching History
                </MudNavLink>
                <MudNavLink Href="/flux/processing-history" Icon="@Icons.Material.Filled.PlayCircle">
                    Processing History
                </MudNavLink>
            </MudNavGroup>
            <MudNavLink Href="/flux/errors" Icon="@Icons.Material.Filled.Error">
                Errors
            </MudNavLink>
        </MudNavGroup>

        <MudNavGroup Title="Data Points" Icon="@Icons.Material.Filled.DataUsage" Expanded="false">
            <MudNavLink Href="/financial-data/search" Icon="@Icons.Material.Filled.Search">
                Search Data Points
            </MudNavLink>
            <MudNavLink Href="/financial-data/create" Icon="@Icons.Material.Filled.Add">
                Create Data Point
            </MudNavLink>
        </MudNavGroup>

        <MudNavGroup Title="Data Mapping" Icon="@Icons.Material.Filled.Storage" Expanded="false">
            <MudNavLink Href="/file-data-mappings" Icon="@Icons.Material.Filled.List">
                Mapping List
            </MudNavLink>
            <MudNavLink Href="/file-data-mapping" Icon="@Icons.Material.Filled.Add">
                Create Mapping
            </MudNavLink>
        </MudNavGroup>

        <MudNavGroup Title="Property Types" Icon="@Icons.Material.Filled.Category" Expanded="false">
            <MudNavLink Href="/property-data-types/search" Icon="@Icons.Material.Filled.Search">
                Search Property Types
            </MudNavLink>
            <MudNavLink Href="/property-data-types/create" Icon="@Icons.Material.Filled.Add">
                Create Property Type
            </MudNavLink>
        </MudNavGroup>

        <MudNavGroup Title="Financial Data" Icon="@Icons.Material.Filled.MonetizationOn" Expanded="false">
            <MudNavLink Href="/prices/search" Icon="@Icons.Material.Filled.PriceChange">
                Search Prices
            </MudNavLink>
        </MudNavGroup>
    </MudNav>

    <MudDivider Class="my-2" />

    <MudNav>
        <MudNavGroup Title="Administration" Icon="@Icons.Material.Filled.AdminPanelSettings" Expanded="false">
            <MudNavLink Href="/settings" Icon="@Icons.Material.Filled.Settings">
                Settings
            </MudNavLink>
            <MudNavLink Href="/logs" Icon="@Icons.Material.Filled.Article">
                System Logs
            </MudNavLink>
        </MudNavGroup>

        <MudNavLink Href="/help" Icon="@Icons.Material.Filled.Help">
            Help & Documentation
        </MudNavLink>
    </MudNav>
</MudNavMenu>

@code {
    private bool IsActive(string href)
    {
        var relativePath = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);
        return relativePath.StartsWith(href);
    }
}

